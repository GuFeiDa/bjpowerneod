<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bjpowernode.crm.settings.dao.DictionaryTypeDao">

    <!--List<DicType> findAllDicType();-->
    <select id="findAllDicType" resultType="DicType">
        select * from tbl_dic_type
    </select>

    <!--DicType checkTypeCode(String code);-->
    <select id="checkTypeCode" resultType="DicType">
        select * from tbl_dic_type where code = #{code}
    </select>

    <!--void saveDicType(DicType dicType);-->
    <insert id="saveDicType">
        insert into tbl_dic_type
        (
        code,
        name,
        description
        )
        values
        (
        #{code},
        #{name},
        #{description}
        )
    </insert>

    <!--DicType findDicTypeByCode(String code);-->
    <select id="findDicTypeByCode" resultType="DicType">
        select * from tbl_dic_type where code = #{code}
    </select>

    <!--void updateDicType(DicType dicType);
    <update id="updateDicType">
        update tbl_dic_type set name=#{name} , description=#{description} where code = #{code}
    </update>-->
    <update id="updateDicType">
        update tbl_dic_type
        <set>
            <if test="name != null and name != ''">
                name=#{name},
            </if>
            <if test="description != null and description != ''">
                description = #{description},
            </if>
        </set>
         where code = #{code}
    </update>

</mapper>